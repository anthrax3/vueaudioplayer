webpackJsonp([1],{31:function(t,e,n){"use strict";var i=n(12),r=n(83),a=n(79),s=n.n(a);i.a.use(r.a);var o=new r.a({mode:"history",routes:[{path:"/:id?",name:"AudioPlayer",component:s.a}]});e.a=o},32:function(t,e,n){"use strict";var i,r=n(45),a=n.n(r),s=n(44),o=n.n(s),l=n(12),c=n(85),u=n(7),d=n(40),p=n(39);l.a.use(c.a);var f={playList:[],currentList:{},changeTrack:!1,startStopTrack:!1,isPlaying:!1,loading:!0},m=(i={},o()(i,u.a,function(t,e){var i=e.id,r=e.data,a=n.i(d.a)(r);t.playList=a,t.currentList=a.list[i],t.loading=!1}),o()(i,u.b,function(t,e){t.currentList=t.playList.list[e]}),o()(i,u.c,function(t,e){t.startStopTrack=e}),i),v=o()({},u.a,function(t,e){var n=a()(e,2),i=n[0],r=n[1];p.a.fetchData(i).then(function(t){return t.json()}).then(function(e){t.commit(u.a,{id:r,data:e})})});e.a=new c.a.Store({state:f,mutations:m,actions:v})},33:function(t,e,n){var i=n(11)(n(34),n(82),null,null,null);t.exports=i.exports},34:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(6).loadStyle(),e.default={name:"app"}},35:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(80),r=n.n(i),a=n(81),s=n.n(a),o=n(7),l=n(6);e.default={name:"AudioPlayer",template:n.i(l.loadTheme)("AudioPlayer.html"),components:{PlayList:r.a,Player:s.a},created:function(){var t=this.$route.params.id||"0";this.$store.dispatch(o.a,[appOptions.playListSourceUrl,t])},computed:{playList:function(){var t=this.$store.state.playList;return document.title=t.title,t},currentList:function(){return this.$store.state.currentList},loading:function(){return this.$store.state.loading}}}},36:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=n(7);e.default={template:n.i(i.loadTheme)("PlayList.html"),name:"PlayList",props:["playList"],methods:{playerControl:function(t){this.$store.state.currentList.id==t?this.$store.commit(r.c,!this.$store.state.startStopTrack):(this.$store.commit(r.c,!0),this.$store.commit(r.b,this.$route.params.id))}},computed:{isPlaying:function(){return this.$store.state.isPlaying}}}},37:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);n(7);e.default={name:"Player",template:n.i(i.loadTheme)("Player.html"),props:{currentList:{type:Object,required:!0}},data:function(){return{id:parseInt(this.$route.params.id),isPlaying:!1}},computed:{getModalClassList:function(){return document.querySelector(".modal-wrapper").classList},getAudioPlayer:function(){return this.$refs.player},startStopTrack:function(){return this.$store.state.startStopTrack}},watch:{currentList:function(){this.loadTrack()},startStopTrack:function(){this.playerChange()},isPlaying:function(){this.$store.state.isPlaying=this.isPlaying}},methods:{playerChange:function(){var t=this.getAudioPlayer;t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2?(t.pause(),this.isPlaying=!1):(t.play(),this.isPlaying=!0)},openModal:function(){this.getModalClassList.add("open")},closeModal:function(){this.getModalClassList.remove("open")},loadTrack:function(){this.getAudioPlayer.load(),this.playerChange()}}}},38:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=n(33),a=n.n(r),s=n(31),o=n(32);i.a.config.productionTip=!1,new i.a({el:"#app",router:s.a,template:"<App />",components:{App:a.a},store:o.a})},39:function(t,e,n){"use strict";e.a={fetchData:function(t){return fetch(t)}}},40:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){var e=t.options;return t.list.forEach(function(t,n){t.image=e.imageroot+t.image,"mp3"==t.type?t.soundfile.mp3=e.soundfileroot+t.soundfile.mp3:"youtube"==t.type&&(t.videoEmbedUrl="http://www.youtube.com/embed/"+t.videoId),t.description=a(t.description),t.detailsUrl="/"+n,t.recorddateformatted=r(t.recorddate)}),t},r=function(t){var e=new Date(t).toISOString().slice(0,10),n=e.split("-");return n[2]+"-"+n[1]+"-"+n[0]},a=function(t){var e,n,i,r;return n=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,e=t.replace(n,'<a href="$1" target="_blank" rel="noopener">$1</a>'),i=/(^|[^\/])(www\.[\S]+(\b|$))/gim,e=e.replace(i,'$1<a href="http://$2" target="_blank" rel="noopener">$2</a>'),r=/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,e=e.replace(r,'<a href="mailto:$1">$1</a>')}},6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"loadTheme",function(){return i}),n.d(e,"loadStyle",function(){return r});var i=function(t){return a("views/"+t)},r=function(){return a("css/style.scss")},a=function(t){return n(87)("./"+appOptions.theme+"/"+t)}},7:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return a});var i="FETCH_PLAYLIST",r="GET_CURRENT_LIST",a="PLAYER_STARTSTOP_TRACK"},75:function(t,e){},76:function(t,e){t.exports='<div class="audio-player-container">\n\n  <div class="spinner" v-if="loading">\n    <div class="rect1"></div>\n    <div class="rect2"></div>\n    <div class="rect3"></div>\n    <div class="rect4"></div>\n    <div class="rect5"></div>\n  </div>\n\n  <template v-else>\n    <h1 class="main-title">{{playList.title}}</h1>\n    <player :currentList="currentList"></player>\n    <play-list :playList="playList"></play-list>\n  </template>\n</div>'},77:function(t,e){t.exports='<div class="list">\n\n    <ul class="list-items" v-for="(item,index) in playList.list" v-bind:key="item">\n      <li>\n        <router-link :to="{path : item.detailsUrl}" @click.native="playerControl(item.id)">\n            <span class="number" v-bind:class="{ playing: isPlaying }"><em>{{ index+1 }}</em></span> <span class="title">{{item.title}}</span>\n        </router-link>\n      </li>\n    </ul>\n\n</div>'},78:function(t,e){t.exports='<div class="player">\n\n  <div class="custom-audio-player">\n    <a href="#" class="btn-play" @click.prevent="playerChange">\n      <span v-if="isPlaying">||</span>\n      <span v-else>▶︎</span>\n    </a>\n    <audio controls preload="none" controlsList="nodownload" ref="player">\n      <source v-if="currentList.soundfile" :src="currentList.soundfile.mp3" type="audio/mp3"> Your browser does not support the audio element.\n    </audio>\n  </div>\n\n  <p class="title">{{currentList.title}}</p>\n  <div class="cover-avatar">\n    <img :src="currentList.image" :alt="currentList.title">\n  </div>\n  <p class="description" v-html="currentList.description" @click.prevent="openModal"></p>\n  <div class="cover-image" :style="{ backgroundImage: \'url(\'+currentList.image+\')\' }"></div>\n\n  \x3c!-- Modal: https://codepen.io/rauldronca/pen/QEraba --\x3e\n  <div class="modal-wrapper">\n    <div class="modal">\n      <div class="head">\n        <span>{{currentList.recorddateformatted}}</span>\n        <a class="btn-close trigger" href="#" @click.prevent="closeModal">x</a>\n      </div>\n      <div class="content">\n        <div class="modal-description" v-html="currentList.description"></div>\n      </div>\n    </div>\n  </div>\n\n</div>'},79:function(t,e,n){var i=n(11)(n(35),null,null,null,null);t.exports=i.exports},80:function(t,e,n){var i=n(11)(n(36),null,null,null,null);t.exports=i.exports},81:function(t,e,n){var i=n(11)(n(37),null,null,null,null);t.exports=i.exports},82:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("main",{staticClass:"container"},[n("router-view")],1)])},staticRenderFns:[]}},87:function(t,e,n){function i(t){return n(r(t))}function r(t){var e=a[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var a={"./modern/css/style.scss":75,"./modern/views/AudioPlayer.html":76,"./modern/views/PlayList.html":77,"./modern/views/Player.html":78};i.keys=function(){return Object.keys(a)},i.resolve=r,t.exports=i,i.id=87}},[38]);
//# sourceMappingURL=app.f5a8eb19f15e6604aaf6.js.map